{%extends "template/default.html"%}
{%block main%}
<div class="container-fluid px-4">
    <h1 class="mt-4">{{title}}</h1>
    <h6 class="mt-1">data per tanggal {{per_tanggal}}</h6>
    <div class="card mb-4">
        <form method="POST">
            {%csrf_token%}
            <label class="form-label">Tanggal</label>
            <input name="tanggal" type="date"><br>
            <button type="submit" class="btn btn-dark">Submit</button>
        </form>
    </div>
    <div class="card mb4 table-responsive">
        <table class="table table-striped table-hover table-bordered">
            <thead class="align-middle">
                <tr class="table-dark">
                    <th>No</th>
                    <th>Bidang Pengampu</th>
                    <th>Kejadian Risiko</th>
                    <th>Rencana Aksi Mitigasi Risiko</th>
                    <th>Output</th>
                    <th>Target</th>
                    <th>Pelaksanaan</th>
                    <th>Capaian</th>
                    <th>Per Tanggal</th>
                </tr>
            </thead>
            <tbody class="align-middle">
                {%for x in RA%}
                <tr class="table-active">
                    <td class="nomor"></td>
                    <td>{{x.pengampu.unit_es3}}</td>
                    <td>{{x.ra.kejadian_risiko}}</td>
                    <td><a href="rencana_aksi/{{x.ra.id}}" class="link-dark" target="_blank">{{x.ra.rencana_aksi}}</a></td>
                    <td>{{x.ra.output}}</td>
                    <td>{{x.ra.target}}</td>
                    <td>{{x.cacah_pelaksanaan}}</td>
                    <td class="percent">{{x.capaian}}</td>
                    <td>{{x.per_tanggal}}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{%endblock%}

{%block script%}
<script>
    let nomor = document.getElementsByClassName("nomor")
    for (let i = 0; i < nomor.length; i ++){
        nomor[i].innerHTML = i + 1
    }

    let percent = document.getElementsByClassName("percent")
    for (let i = 0; i < percent.length; i ++){
        percent[i].innerHTML = (parseFloat(percent[i].innerHTML)*100).toFixed(2)
    }
</script>
{% endblock %}